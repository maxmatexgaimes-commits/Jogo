<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Nossa Hist√≥ria Infinita üíñ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ================= VARI√ÅVEIS ================= */
:root{
  --rosa:#ff7eb6;
  --rosa2:#ffd1e8;
  --texto:#5a2a3d;
  --box:rgba(255,255,255,.95);
}

/* ================= RESET ================= */
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:'Trebuchet MS','Comic Sans MS',cursive;
}

body{
  background:#fff;
  color:var(--texto);
  overflow:hidden;
}

/* ================= TELAS ================= */
.screen{
  position:fixed;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  text-align:center;
  background-size:cover;
  background-position:center;
}
.screen.active{display:flex}

/* ================= INTRO ================= */
#intro video{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  z-index:1;
}
#intro::after{
  content:"";
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.45);
  z-index:2;
}
#intro button{
  z-index:3;
}

/* ================= CAIXA ================= */
.box{
  background:var(--box);
  padding:26px;
  border-radius:26px;
  max-width:92%;
  box-shadow:0 15px 35px rgba(0,0,0,.25);
}

/* ================= BOT√ïES ================= */
button{
  padding:14px 38px;
  border:none;
  border-radius:30px;
  background:var(--rosa);
  color:#fff;
  font-size:1em;
  margin-top:15px;
  box-shadow:0 8px 18px rgba(0,0,0,.25);
}
button:active{transform:scale(.96)}

/* ================= TEXTO BRILHANTE ================= */
.glow{
  background:linear-gradient(90deg,var(--rosa),#ffe6f2,var(--rosa));
  background-size:200%;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:glow 3s linear infinite;
}
@keyframes glow{to{background-position:200%}}

/* ================= LIVRO ================= */
#book{
  position:fixed;
  bottom:6px;
  font-size:.9em;
  opacity:.85;
  white-space:nowrap;
  animation:book 20s linear infinite;
}
@keyframes book{from{left:100%}to{left:-100%}}

/* ================= DI√ÅLOGO ================= */
.dialog{
  position:absolute;
  bottom:0;
  width:100%;
  background:var(--box);
  padding:22px;
  border-radius:30px 30px 0 0;
}

/* ================= ESCOLHAS ================= */
#choices{
  display:flex;
  flex-direction:column;
  gap:12px;
  margin-top:14px;
}
.choice{
  background:var(--rosa2);
  color:var(--texto);
  padding:14px;
  border-radius:25px;
  border:none;
}

/* ================= EFEITOS ================= */
.effect{
  position:absolute;
  font-size:26px;
  pointer-events:none;
  animation:float 3s ease-out forwards;
}
@keyframes float{
  from{opacity:1;transform:translateY(0)}
  to{opacity:0;transform:translateY(-120px)}
}

/* ================= JOGO ================= */
#gameArea{
  position:relative;
  width:100%;
  height:100%;
}
#maxChar{
  position:absolute;
  bottom:110px;
  left:5%;
  font-size:48px;
  transition:left .4s;
}
#andrellyChar{
  position:absolute;
  bottom:110px;
  right:5%;
  font-size:48px;
}

/* ================= BARRA ================= */
#bar{
  width:80%;
  height:16px;
  background:#eee;
  border-radius:20px;
  overflow:hidden;
}
#fill{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#ff7eb6,#ffd1e8);
  transition:.4s;
}

/* ================= CAPIVARA ================= */
.capivara{
  position:absolute;
  font-size:30px;
  cursor:pointer;
  animation:bounce 1.2s infinite alternate;
}
@keyframes bounce{
  from{transform:translateY(0)}
  to{transform:translateY(-8px)}
}

/* ================= FOTO ================= */
#photo{
  width:300px;
  max-width:90vw;
  border-radius:25px;
}
</style>
</head>

<body>

<audio id="audio"></audio>
<div id="book">üìñ‚úíÔ∏è Nossa hist√≥ria est√° sendo escrita‚Ä¶ e n√£o vai acabar nunca üíñ</div>

<!-- INTRO -->
<div id="intro" class="screen active">
  <video autoplay muted playsinline>
    <source src="intro.mp4">
  </video>
  <button id="enterBtn">Entrar na nossa hist√≥ria üíñ</button>
</div>

<!-- HIST√ìRIA -->
<div id="story" class="screen" style="background-image:url('bg-por-do-sol.jpg')">
  <div class="dialog">
    <strong id="name"></strong>
    <p id="text"></p>
    <div id="choices"></div>
  </div>
</div>

<!-- JOGO -->
<div id="game" class="screen" style="background-image:url('bg-cerejeira.jpg')">
  <div id="gameArea">
    <div id="maxChar">üßç‚Äç‚ôÇÔ∏è</div>
    <div id="andrellyChar">üíñ</div>
  </div>
  <div class="box">
    <p>Conex√£o üíû</p>
    <div id="bar"><div id="fill"></div></div>
    <button onclick="connect()">Aproximar üíó</button>
  </div>
</div>

<!-- GALERIA -->
<div id="gallery" class="screen" style="background-image:url('bg-cerejeira.jpg')">
  <div class="box">
    <h2>üì∏ Nossas Mem√≥rias</h2>
    <img id="photo">
    <button onclick="nextPhoto()">Pr√≥xima</button>
  </div>
</div>

<!-- FINAL -->
<div id="end" class="screen" style="background-image:url('bg-noite.jpg')">
  <div class="box">
    <h1 class="glow" id="finalTitle"></h1>
    <p id="timer"></p>
    <p id="finalText"></p>
  </div>
</div>

<script>
/* ================= CONTROLE DE TELAS ================= */
const screens=[...document.querySelectorAll(".screen")];
const show=id=>{
  screens.forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
};

/* ================= M√öSICA ================= */
const audio=document.getElementById("audio");
const playlist=["musica1.mp3","musica2.mp3","musica3.mp3"];
let track=0;
function playMusic(){
  audio.src=playlist[track];
  audio.volume=.6;
  audio.play();
}
audio.onended=()=>{
  track=(track+1)%playlist.length;
  playMusic();
};

/* ================= EFEITO ================= */
function effect(icon){
  const e=document.createElement("div");
  e.className="effect";
  e.textContent=icon;
  e.style.left=Math.random()*80+"%";
  e.style.top="60%";
  document.body.appendChild(e);
  setTimeout(()=>e.remove(),3000);
}

/* ================= CAPIVARAS ================= */
let capi=0;
let secretUnlocked=false;

function spawnCapivara(){
  if(Math.random()<0.4){
    const c=document.createElement("div");
    c.className="capivara";
    c.textContent="ü¶´";
    c.style.left=Math.random()*80+"%";
    c.style.top=Math.random()*60+"%";
    c.onclick=()=>{
      capi++;
      effect("üíñ");
      c.remove();
      if(capi>=3) secretUnlocked=true;
    };
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),4000);
  }
}

/* ================= HIST√ìRIA ================= */
const story=[
["Narrador","Em 11 de setembro de 2025, tudo come√ßou üåÖ"],
["Max","Desde a primeira conversa, algo mudou üíñ"],
["Andrelly","Seu jeito me fez sorrir sem perceber üå∏"],
["Narrador","As mensagens viraram carinho üí¨"],
["Max","Eu quero ficar com voc√™ üíç"]
];
let idx=0;

const enterBtn=document.getElementById("enterBtn");
enterBtn.onclick=()=>{
  playMusic();
  show("story");
  loadStory();
};

function loadStory(){
  spawnCapivara();
  name.textContent=story[idx][0];
  text.textContent=story[idx][1];
  choices.innerHTML="";
  effect("‚ú®");

  const b=document.createElement("button");
  b.className="choice";
  b.textContent="Continuar üíñ";
  b.onclick=()=>{
    idx++;
    if(idx<story.length) loadStory();
    else show("game");
  };
  choices.appendChild(b);
}

/* ================= JOGO ================= */
let progress=0;
function connect(){
  const bonus=Math.random()>0.7?30:20;
  progress+=bonus;
  if(progress>100) progress=100;
  fill.style.width=progress+"%";
  maxChar.style.left=(5+progress/2)+"%";
  effect("üíó");
  spawnCapivara();
  if(progress>=100) setTimeout(startGallery,600);
}

/* ================= GALERIA ================= */
let p=1;
function startGallery(){
  show("gallery");
  photo.src="foto1.jpg";
}
function nextPhoto(){
  p++;
  spawnCapivara();
  if(p>10) finish();
  else photo.src=`foto${p}.jpg`;
}

/* ================= FINAL ================= */
function finish(){
  show("end");

  finalTitle.textContent=secretUnlocked
    ?"Final Secreto üíçü¶´"
    :"Nosso Para Sempre üíñ";

  finalText.textContent=secretUnlocked
    ?"At√© as capivaras sabem: esse amor √© eterno ü¶´üíñ"
    :"Prometo te escolher todos os dias.";

  const startDate=new Date("2025-09-11T00:00:00");

  setInterval(()=>{
    const d=new Date()-startDate;
    const days=Math.floor(d/86400000);
    const h=Math.floor(d/3600000)%24;
    const m=Math.floor(d/60000)%60;
    const s=Math.floor(d/1000)%60;
    timer.textContent=
      `${days} dias ${h}h ${m}m ${s}s juntos üíñ`;
  },1000);
}
</script>

</body>
</html>
