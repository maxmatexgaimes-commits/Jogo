<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Nossa HistÃ³ria Infinita ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --rosa:#ff7eb6;
  --rosa2:#ffd1e8;
  --texto:#5a2a3d;
  --fundo:rgba(255,255,255,.95);
}

/* RESET */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Trebuchet MS','Comic Sans MS',cursive}
body{background:#fff;color:var(--texto);overflow:hidden}

/* TELAS */
.screen{
  position:fixed; inset:0;
  display:none; justify-content:center; align-items:center;
  flex-direction:column; text-align:center;
  background-size:cover; background-position:center;
  animation:fade .4s ease;
}
.screen.active{display:flex}
@keyframes fade{from{opacity:0;transform:scale(.97)}to{opacity:1}}

/* CAIXA */
.box{
  background:var(--fundo);
  padding:26px;
  border-radius:26px;
  max-width:92%;
  box-shadow:0 18px 40px rgba(0,0,0,.25);
}

/* BOTÃ•ES */
button{
  padding:14px 34px;
  border:none;
  border-radius:30px;
  background:var(--rosa);
  color:#fff;
  margin-top:12px;
  box-shadow:0 8px 18px rgba(0,0,0,.25);
}
.secondary{
  background:#f1a7c7;
}
button:active{transform:scale(.96)}

/* BRILHO */
.glow{
  background:linear-gradient(90deg,var(--rosa),#ffe6f2,var(--rosa));
  background-size:200%;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:glow 3s linear infinite;
}
@keyframes glow{to{background-position:200%}}

/* LIVRO */
#book{
  position:fixed; bottom:6px;
  opacity:.85; white-space:nowrap;
  animation:book 22s linear infinite;
}
@keyframes book{from{left:100%}to{left:-100%}}

/* DIÃLOGO */
.dialog{
  position:absolute; bottom:0; width:100%;
  background:var(--fundo);
  padding:22px;
  border-radius:30px 30px 0 0;
}

/* EFEITOS */
.effect{
  position:absolute;
  font-size:26px;
  animation:float 3s ease-out forwards;
  pointer-events:none;
}
@keyframes float{
  from{opacity:1;transform:translateY(0)}
  to{opacity:0;transform:translateY(-120px)}
}

/* JOGO */
#gameArea{position:relative;width:100%;height:100%}
#maxChar{position:absolute;bottom:110px;left:6%;font-size:48px;transition:left .5s}
#andrellyChar{position:absolute;bottom:110px;right:6%;font-size:48px}

/* BARRA */
#bar{width:80%;height:16px;background:#eee;border-radius:20px;overflow:hidden}
#fill{height:100%;width:0%;background:linear-gradient(90deg,#ff7eb6,#ffd1e8);transition:.5s}

/* CAPIVARA */
.capivara{
  position:absolute;
  font-size:28px;
  cursor:pointer;
  animation:pop .6s ease;
}
@keyframes pop{from{transform:scale(0)}to{transform:scale(1)}}

/* MENSAGEM */
#toast{
  position:fixed;
  bottom:90px;
  background:var(--rosa2);
  padding:14px 20px;
  border-radius:20px;
  display:none;
}

/* FOTO */
#photo{width:300px;max-width:90vw;border-radius:25px}
</style>
</head>

<body>

<audio id="audio"></audio>
<div id="book">ğŸ“–âœ’ï¸ Nossa histÃ³ria estÃ¡ sendo escritaâ€¦ e nÃ£o vai acabar nunca ğŸ’–</div>
<div id="toast"></div>

<!-- INTRO -->
<div id="intro" class="screen active">
  <video autoplay muted playsinline style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover">
    <source src="intro.mp4">
  </video>
  <button onclick="start()">Entrar ğŸ’–</button>
</div>

<!-- HISTÃ“RIA -->
<div id="story" class="screen">
  <div class="dialog">
    <strong id="name"></strong>
    <p id="text"></p>
    <button onclick="nextChapter()">AvanÃ§ar ğŸ’–</button>
    <button class="secondary" onclick="skipStory()">Pular histÃ³ria</button>
  </div>
</div>

<!-- JOGO -->
<div id="game" class="screen" style="background-image:url('bg-cerejeira.jpg')">
  <div id="gameArea">
    <div id="maxChar">ğŸ§â€â™‚ï¸</div>
    <div id="andrellyChar">ğŸ’–</div>
  </div>
  <div class="box">
    <p>ConexÃ£o emocional ğŸ’</p>
    <div id="bar"><div id="fill"></div></div>
    <button onclick="connect()">Dar um passo ğŸ’—</button>
    <button class="secondary" onclick="restartGame()">RecomeÃ§ar jogo</button>
  </div>
</div>

<!-- GALERIA -->
<div id="gallery" class="screen" style="background-image:url('bg-cerejeira.jpg')">
  <div class="box">
    <h2>ğŸ“¸ Nossas MemÃ³rias</h2>
    <img id="photo">
    <button onclick="nextPhoto()">PrÃ³xima</button>
  </div>
</div>

<!-- FINAL -->
<div id="end" class="screen" style="background-image:url('bg-noite.jpg')">
  <div class="box">
    <h1 class="glow">Para sempre nÃ³s ğŸ’</h1>
    <p id="timer"></p>
    <button onclick="restartAll()">RecomeÃ§ar tudo</button>
    <button id="secretBtn" style="display:none" onclick="showSecret()">Ver final secreto ğŸ’–</button>
  </div>
</div>

<!-- FINAL SECRETO -->
<div id="secret" class="screen" style="background-image:url('bg-noite.jpg')">
  <div class="box">
    <h1 class="glow">Final Secreto ğŸ’–</h1>
    <p>Eu te escolheria em todas as versÃµes do mundo ğŸ’</p>
    <p>ğŸ¦«âœ¨ğŸ¦«âœ¨ğŸ¦«</p>
    <button onclick="restartAll()">Voltar ao inÃ­cio</button>
  </div>
</div>

<script>
/* TELAS */
const screens=[...document.querySelectorAll(".screen")];
const show=id=>{
  screens.forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
};

/* MÃšSICA */
const audio=document.getElementById("audio");
const playlist=["musica1.mp3","musica2.mp3","musica3.mp3"];
let track=0;
function music(){
  audio.src=playlist[track];
  audio.volume=.6;
  audio.play();
}
audio.onended=()=>{track=(track+1)%playlist.length;music()};

/* TOAST */
function toast(msg){
  toastEl.textContent=msg;
  toastEl.style.display="block";
  setTimeout(()=>toastEl.style.display="none",2500);
}
const toastEl=document.getElementById("toast");

/* CAPIVARAS */
let capivaras=0;
function spawnCapivara(){
  if(Math.random()<.35){
    const c=document.createElement("div");
    c.className="capivara";
    c.textContent="ğŸ¦«";
    c.style.left=Math.random()*80+"%";
    c.style.top=Math.random()*60+"%";
    c.onclick=()=>{
      capivaras++;
      toast("ğŸ¦« O amor mora nos detalhes");
      c.remove();
    };
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),4500);
  }
}

/* HISTÃ“RIA */
const chapters=[
["Narrador","Em 11 de setembro de 2025, tudo comeÃ§ou ğŸŒ…"],
["Max","Eu me senti em casa quando te conheci ğŸ’–"],
["Andrelly","Seu jeito me trouxe paz ğŸŒ¸"],
["Narrador","As conversas viraram conexÃ£o ğŸ’¬"],
["Max","Promete ficar comigo? ğŸ’"]
];
let chapter=0;

function start(){
  music();
  show("story");
  loadChapter();
}

function loadChapter(){
  spawnCapivara();
  name.textContent=chapters[chapter][0];
  text.textContent=chapters[chapter][1];
}

function nextChapter(){
  chapter++;
  if(chapter<chapters.length) loadChapter();
  else show("game");
}
function skipStory(){show("game")}

/* JOGO */
let progress=0;
function connect(){
  progress+=20;
  fill.style.width=progress+"%";
  maxChar.style.left=(6+progress/2)+"%";
  spawnCapivara();
  if(progress>=100) startGallery();
}
function restartGame(){
  progress=0;
  fill.style.width="0%";
  maxChar.style.left="6%";
}

/* GALERIA */
let p=1;
function startGallery(){
  show("gallery");
  photo.src="foto1.jpg";
}
function nextPhoto(){
  p++;
  if(p>10) finish();
  else photo.src=`foto${p}.jpg`;
}

/* FINAL */
function finish(){
  show("end");
  if(capivaras>=3) secretBtn.style.display="inline-block";
  const startDate=new Date("2025-09-11T00:00:00");
  setInterval(()=>{
    const d=new Date()-startDate;
    const days=Math.floor(d/86400000);
    const h=Math.floor(d/3600000)%24;
    const m=Math.floor(d/60000)%60;
    const s=Math.floor(d/1000)%60;
    timer.textContent=`Juntos hÃ¡ ${days} dias ${h}h ${m}m ${s}s ğŸ’–`;
  },1000);
}
function showSecret(){show("secret")}
function restartAll(){location.reload()}
</script>

</body>
</html>
