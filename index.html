<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Nossa HistÃ³ria Infinita ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{
  margin:0;padding:0;box-sizing:border-box;
  font-family:'Comic Sans MS',cursive;
}

body{
  overflow:hidden;
  background:#fff;
  color:#5a2a3d;
}

/* ===== TELAS ===== */
.tela{
  position:fixed;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  text-align:center;
  background-size:cover;
  background-position:center;
  animation:fade .6s ease;
}
.tela.ativa{display:flex}

@keyframes fade{
  from{opacity:0;transform:scale(.98)}
  to{opacity:1}
}

/* ===== INTRO ===== */
#intro::after{
  content:"";
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.35);
  z-index:1;
}

/* ===== OVERLAY ===== */
.overlay{
  background:rgba(255,255,255,.85);
  padding:25px;
  border-radius:25px;
}

/* ===== BOTÃ•ES ===== */
button{
  padding:14px 45px;
  border:none;
  border-radius:30px;
  background:#ff7eb6;
  color:white;
  font-size:1.1em;
  cursor:pointer;
  box-shadow:0 8px 20px rgba(0,0,0,.25);
}
button:active{transform:scale(.96)}

/* ===== BRILHO ===== */
.brilho{
  background:linear-gradient(90deg,#ff7eb6,#ffd1e8,#ff7eb6);
  background-size:200%;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:brilho 3s linear infinite;
}
@keyframes brilho{to{background-position:200%}}

/* ===== PLAYER ===== */
#player{
  position:fixed;
  bottom:15px;
  right:15px;
  background:#fff;
  padding:10px 15px;
  border-radius:30px;
  display:flex;
  gap:10px;
  z-index:1000;
}

/* ===== DIÃLOGO ===== */
.dialogo{
  position:absolute;
  bottom:0;
  width:100%;
  background:rgba(255,255,255,.95);
  padding:20px;
  border-radius:30px 30px 0 0;
}

/* ===== LIVRO ===== */
#livro{
  position:fixed;
  bottom:5px;
  white-space:nowrap;
  animation:livro 15s linear infinite;
}
@keyframes livro{
  from{left:100%}
  to{left:-100%}
}

/* ===== JOGO ===== */
#playerChar{
  position:absolute;
  bottom:50px;
  font-size:55px;
}
.coracao{
  position:absolute;
  top:-40px;
  animation:cair linear;
}
@keyframes cair{
  to{transform:translateY(120vh)}
}
</style>
</head>

<body>

<audio id="audio" loop></audio>

<div id="player">
  <button onclick="prev()">â®ï¸</button>
  <button onclick="playPause()">â¯ï¸</button>
  <button onclick="next()">â­ï¸</button>
</div>

<div id="livro">ğŸ“–âœ’ï¸ Nossa histÃ³ria estÃ¡ sendo escritaâ€¦ e nÃ£o vai acabar nunca ğŸ’–</div>

<!-- INTRO -->
<div id="intro" class="tela ativa">
  <video autoplay muted playsinline
    style="position:absolute;inset:0;width:100%;height:100%;object-fit:cover;z-index:0">
    <source src="intro.mp4" type="video/mp4">
  </video>
  <button onclick="entrar()" style="z-index:2">
    Entrar na nossa histÃ³ria ğŸ’–
  </button>
</div>

<!-- INÃCIO -->
<div id="inicio" class="tela" style="background-image:url('bg-por-do-sol.jpg')">
  <div class="overlay">
    <h1 class="brilho">Nossa HistÃ³ria Infinita ğŸ’–</h1>
    <p>Max & Andrelly</p>
    <button onclick="start()">ComeÃ§ar</button>
  </div>
</div>

<!-- VISUAL NOVEL -->
<div id="novel" class="tela">
  <div class="dialogo">
    <strong id="nome"></strong>
    <p id="texto"></p>
    <img id="icone" width="40"><br>
    <button onclick="nextStory()">Continuar</button>
  </div>
</div>

<!-- JOGO -->
<div id="jogo" class="tela">
  <div id="playerChar">ğŸ‘¦</div>
  <div class="dialogo">
    <strong>Narrador</strong>
    <p>Colete os coraÃ§Ãµes do amor ğŸ’—</p>
  </div>
</div>

<!-- FOTOS -->
<div id="fotos" class="tela" style="background-image:url('bg-cerejeira.jpg')">
  <div class="overlay">
    <h2>ğŸ“¸ MemÃ³rias</h2>
    <img id="fotoAtual" style="width:300px;border-radius:25px">
    <button onclick="nextFoto()">PrÃ³xima</button>
  </div>
</div>

<!-- FINAL -->
<div id="final" class="tela" style="background-image:url('bg-noite.jpg')">
  <div class="overlay">
    <h1 class="brilho">Final Feliz ğŸ’</h1>
    <p id="tempo"></p>
  </div>
</div>

<script>
/* ===== CONTROLE DE TELAS ===== */
const telas=document.querySelectorAll(".tela");
const show=id=>{
  telas.forEach(t=>t.classList.remove("ativa"));
  document.getElementById(id).classList.add("ativa");
};

/* ===== MÃšSICA ===== */
const audio=document.getElementById("audio");
const playlist=["musica1.mp3","musica2.mp3","musica3.mp3"];
let musica=0;

const tocar=()=>{audio.src=playlist[musica];audio.volume=.6;audio.play()}
const playPause=()=>audio.paused?audio.play():audio.pause();
const next=()=>{musica=(musica+1)%playlist.length;tocar()}
const prev=()=>{musica=(musica-1+playlist.length)%playlist.length;tocar()}

/* ===== INTRO ===== */
function entrar(){tocar();show("inicio")}

/* ===== HISTÃ“RIA ===== */
const historia=[
 ["Narrador","Em 11 de setembro de 2025, tudo comeÃ§ou ğŸŒ…","carta.png","bg-por-do-sol.jpg"],
 ["Max","VocÃª chegou e mudou tudo ğŸ’–","flor.png","bg-cerejeira.jpg"],
 ["Andrelly","Meu coraÃ§Ã£o escolheu vocÃª ğŸŒ¸","estrela.png","bg-cerejeira.jpg"],
 ["Narrador","Sob as estrelas, nosso amor cresceu âœ¨","brilho.png","bg-noite.jpg"]
];
let h=0;

function start(){show("novel");nextStory()}

function nextStory(){
  if(h<historia.length){
    nome.textContent=historia[h][0];
    texto.textContent=historia[h][1];
    icone.src=historia[h][2];
    novel.style.backgroundImage=`url('${historia[h][3]}')`;
    h++;
  }else iniciarJogo();
}

/* ===== JOGO ===== */
let pontos=0,gameLoop;

function iniciarJogo(){
  show("jogo");
  musica=1;tocar();
  gameLoop=setInterval(spawn,800);
}

function spawn(){
  const c=document.createElement("img");
  c.src="heart.png";
  c.className="coracao";
  c.style.width="35px";
  c.style.left=Math.random()*90+"%";
  c.style.animationDuration="5s";
  jogo.appendChild(c);
  c.onclick=()=>{
    pontos++;c.remove();
    if(pontos>=6){
      clearInterval(gameLoop);
      iniciarFotos();
    }
  };
  setTimeout(()=>c.remove(),5000);
}

/* mouse + touch */
document.addEventListener("mousemove",e=>{
  playerChar.style.left=e.clientX+"px";
});
document.addEventListener("touchmove",e=>{
  playerChar.style.left=e.touches[0].clientX+"px";
});

/* ===== FOTOS ===== */
let f=1;
function iniciarFotos(){
  show("fotos");
  musica=2;tocar();
  fotoAtual.src="foto1.jpg";
}
function nextFoto(){
  f++;
  if(f>10) finalizar();
  else fotoAtual.src="foto"+f+".jpg";
}

/* ===== FINAL ===== */
function finalizar(){
  show("final");
  const inicio=new Date("2025-09-11T00:00:00");
  setInterval(()=>{
    const d=new Date()-inicio;
    tempo.textContent=
      `Estamos juntos hÃ¡ ${Math.floor(d/86400000)} dias ğŸ’–`;
  },1000);
}
</script>

</body>
</html>
